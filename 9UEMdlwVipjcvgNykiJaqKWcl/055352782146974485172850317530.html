<body>
    <nav class="navbar navbar-expand-lg fixed-top">
        <a class="navbar-brand" href="#">IRMA Baitussalam</a>
        <div class="menu-icon" id="menu-icon">
            <div></div>
            <div></div>
            <div></div>
        </div>

        <div class="navbar-background" id="navbar-background" align="center">
            <div class="navbar-links" id="navbar-links">
                <a href="/" class="nav-btn nav-btn-neumorphic col-lg-12">Beranda</a>
                <a href="/tentang" class="nav-btn nav-btn-neumorphic col-lg-12">Tentang</a>
                <a href="/blog" class="nav-btn nav-btn-neumorphic col-lg-12">Blog</a>
                <a href="/kontak" class="nav-btn nav-btn-neumorphic col-lg-12">Kontak</a>
                <a href="/pendaftaran-anggota-baru" class="nav-btn nav-btn-neumorphic col-lg-12">Pendaftaran</a>
                <a href="#" id="submenu" class="submenu nav-btn nav-btn-neumorphic col-lg-12">Halaman Lainnya</a>
                <div class="submenu-content col-lg-12" id="submenu-content">
                    <a href="/pedoman-komunitas" class="nav-btn nav-btn-neumorphic-inset col-lg-12">Pedoman Komunitas</a>
                    <a href="/kebijakan-privasi" class="nav-btn nav-btn-neumorphic-inset col-lg-12">Kebijakan Privasi</a>
                    <a href="/syarat-ketentuan" class="nav-btn nav-btn-neumorphic-inset col-lg-12">Syarat Ketentuan</a>
                </div>
        
                <button id="themeToggle" class="theme-toggle-btn">
                    <i id="themeIcon" class="ti ti-sun-filled"></i>
                </button>
            </div>
        </div>
    </nav>

    <div class="container text-center mt-5 pt-5">
        <img src="https://irmabaitussalam.github.io/images/logo.svg" alt="Logo" class="logo">
        <h2 class="mt-4">IRMA Baitussalam SMAN 22 Garut</h2>
        <p>&ldquo;Mewujudkan remaja masjid yang beriman, bertaqwa, berkarakter, cerdas, dan terampil&rdquo;</p>
        <div class="achievements mt-5">
        	<div class="mb-5 text-left">
                <h5 class="text1-color mb-3">Kirimkan Quotes Terbaikmu Untuk Ditampilkan</h5>
                <hr>
                <div class="card card-neumorphism">
                    <div class="card-subtitle" align="left">
                        <p>Punya kata-kata bijak dan ingin ditampilkan? Kirim saja dengan mengisi formulir di bawah ini ya üòÅ</p>
                    </div>
                </div>
            </div>

            <div class="mb-3 text-left">
                <h5 class="text1-color mb-3">Jadwal Pengiriman Quotes</h5>
                <hr>
                <div class="card card-neumorphism">
                    <div class="card-subtitle" align="left">
                        <p><i class="ti ti-clock"></i> <b>Senin - Jum'at:</b> 05.00 WIB s.d. 17.00 WIB</p>
                        <p><i class="ti ti-clock"></i> <b>Sabtu &amp; Minggu:</b> 06.00 WIB s.d. 14.00 WIB</p>
                    </div>
                </div>
            </div>

            <div class="mb-5 mt-5 text-left">
                <h5 class="text1-color mb-3">Contact Person</h5>
                <hr>
                <p><i class="ti ti-mail"></i> <b>Email:</b> <a href="mailto:irmabaitussalam22garut@gmail.com">irmabaitussalam22garut@gmail.com</a></p>
                <p><i class="ti ti-brand-whatsapp"></i> <b>Kang Gilang:</b> <a href="https://api.whatsapp.com/send?phone=6285860379372">+62 858-6037-9372</a></p>
                <p><i class="ti ti-brand-whatsapp"></i> <b>Kang Rangga:</b> <a href="https://api.whatsapp.com/send?phone=6285659850910">+62 856-5985-0910</a></p>
            </div>

            <div class="mb-5" align="left">
                <h5 class=text1-color mb-3">Formulir Quotes</h5>
                <hr>
                <!-- Tab Navigation -->
                <div class="d-flex justify-content-center">
                    <ul class="nav nav-tabs underline-nav pb-5" id="tab-quotes-form" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link active" id="email-tab" data-toggle="tab" href="#email-form-tab" role="tab" aria-controls="email-tab" aria-selected="true">Email</a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="whatsapp-tab" data-toggle="tab" href="#whatsapp-form-tab" role="tab" aria-controls="whatsapp-tab" aria-selected="false">WhatsApp</a>
                        </li>
                    </ul>
                </div>

                <div class="tab-content mt-3" id="quotes-form-content">
                    <div class="tab-pane fade show active" id="email-form-tab" role="tabpanel" aria-labelledby="email-tab">
                        <form name="email-form" action="https://formsubmit.co/irmabaitussalam22garut@gmail.com" method="POST" onSubmit="return validateEmailForm();">
                            <div class="form-group">
                                <label for="name">Nama Lengkap <span class="red-color">*</span></label>
                                <input type="text" id="name" name="name" placeholder="Contoh: Gilang Ramdani">
                                <div id="alert-1"></div>
                            </div>
                            <div class="form-group">
                                <label for="kelas">Kelas <span class="red-color">*</span></label>
                                <input type="text" id="kelas" name="kelas" placeholder="Contoh: XII - 1">
                                <div id="alert-2"></div>
                            </div>
                            <div class="form-group mail-input">
                                <label for="email-address">Alamat Email <span class="red-color">*</span></label>
                                <div class="mail-container">
                                    <span class="mail-icon">
                                        <i class="ti ti-mail"></i>
                                    </span>
                                    <input type="text" id="email-address" name="email-address" placeholder="emailaddress@example.com">
                                </div>
                                <div id="alert-3"></div>
                            </div>
                            <div class="form-group ig-input">
                                <label for="user-instagram">Akun Instagram</label>
                                <div class="ig-container">
                                    <span class="ig-icon">
                                        <i class="ti ti-brand-instagram"></i>
                                    </span>
                                    <input type="text" id="user-instagram" name="user-instagram" placeholder="irmasman22garut_official" oninput="this.value = this.value.toLowerCase()">
                                </div>
                                <div id="alert-4"></div>
                            </div>
                            <div class="form-group">
                                <label for="quotes">Tulis Quotesmu <span class="red-color">*</span></label>
                                <textarea id="quotes" name="quotes" placeholder="Ketik..." rows="5"></textarea>
                                <div id="alert-5"></div>
                            </div>
                            <div class="form-group">
                                <label for="captcha-input">Captcha <span class="red-color">*</span></label>
                                <div id="mainCaptcha" class="mt-3 mb-5"></div>
                                <div class="refresh-container">
                                    <button class="refresh-icon" onclick="document.forms['email-form']['captcha-input'].focus(); return generateCaptcha('form[name=email-form] #mainCaptcha');">
                                        <i class="ti ti-refresh"></i>
                                    </button>
                                    <input type="text" id="captcha-input" name="captcha-input" placeholder="XXXXXX" maxlength="6">
                                </div>
                                <div id="alert-6"></div>
                            </div>
                            <div class="form-group mt-4 mb-4">
                                <label class="check-box"><input type="checkbox" id="agree" name="agree" value="false"></input><span class="checkmark"></span> Dengan mengklik tombol &ldquo;Kirim Sekarang&rdquo;, Anda sudah menyutujui <a href="/syarat-ketentuan">Syarat Ketentuan</a>, <a href="/kebijakan-privasi">Kebijakan Privasi</a>, dan <a href="/pedoman-komunitas">Pedoman Komunitas</a> kami.</label>
                                <div id="alert-7"></div>
                            </div>
                            <input type="hidden" name="_captcha" value="false"></input>
                            <input type="hidden" name="_template" value="box"></input>
                            <input type="hidden" name="_subject" value="Kirim Quotes"></input>
                            <input type="hidden" name="_next" value="https://irmabaitussalam.github.io/9hoI1UELpyPU4DNV600bAftiMfjAnYpVPxPSL1mL9MYdiK5zRT"></input>
                            <button type="submit" class="icon-text-btn mb-4">Kirim Sekarang</button>
                            <div id="alert-success"></div>
                        </form>
                    </div>
                    <div class="tab-pane fade" id="whatsapp-form-tab" role="tabpanel" aria-labelledby="whatsapp-tab">
                        <form name="whatsapp-form" action="" method="POST" onSubmit="return validateWAForm();">
                            <div class="form-group">
                                <label for="name2">Nama Lengkap <span class="red-color">*</span></label>
                                <input type="text" id="name2" name="name" placeholder="Contoh: Gilang Ramdani">
                                <div id="alert-1"></div>
                            </div>
                            <div class="form-group">
                                <label for="kelas2">Kelas <span class="red-color">*</span></label>
                                <input type="text" id="kelas2" name="kelas" placeholder="Contoh: XII - 1">
                                <div id="alert-2"></div>
                            </div>
                            <div class="form-group wa-input">
                                <label for="no-whatsapp">Nomor WhatsApp <span class="red-color">*</span></label>
                                <div class="wa-container">
                                    <span class="wa-icon">
                                        <i class="ti ti-brand-whatsapp"></i>
                                    </span>
                                    <input type="text" id="no-whatsapp" name="no-whatsapp" placeholder="+62 8xx-xxxx-xxxx" data-mask="+62 899-9999-99999">
                                </div>
                                <div id="alert-3"></div>
                            </div>
                            <div class="form-group ig-input">
                                <label for="user-instagram2">Akun Instagram</label>
                                <div class="ig-container">
                                    <span class="ig-icon">
                                        <i class="ti ti-brand-instagram"></i>
                                    </span>
                                    <input type="text" id="user-instagram2" name="user-instagram" placeholder="irmasman22garut_official" oninput="this.value = this.value.toLowerCase()">
                                </div>
                                <div id="alert-4"></div>
                            </div>
                            <div class="form-group">
                                <label for="quotes2">Tulis Quotesmu <span class="red-color">*</span></label>
                                <textarea id="quotes2" name="quotes" placeholder="Ketik..." rows="5"></textarea>
                                <div id="alert-5"></div>
                            </div>
                            <div class="form-group">
                                <label for="captcha-input2">Captcha <span class="red-color">*</span></label>
                                <div id="mainCaptcha" class="mt-3 mb-5"></div>
                                <div class="refresh-container">
                                    <button class="refresh-icon" onclick="document.forms['whatsapp-form']['captcha-input'].focus(); return generateCaptcha('form[name=whatsapp-form] #mainCaptcha');">
                                        <i class="ti ti-refresh"></i>
                                    </button>
                                    <input type="text" id="captcha-input2" name="captcha-input" placeholder="XXXXXX" maxlength="6">
                                </div>
                                <div id="alert-6"></div>
                            </div>
                            <div class="form-group mt-4 mb-4">
                                <label class="check-box"><input type="checkbox" id="agree" name="agree" value="false"></input><span class="checkmark"></span> Dengan mengklik tombol &ldquo;Kirim Sekarang&rdquo;, Anda sudah menyutujui <a href="/syarat-ketentuan">Syarat Ketentuan</a>, <a href="/kebijakan-privasi">Kebijakan Privasi</a>, dan <a href="/pedoman-komunitas">Pedoman Komunitas</a> kami.</label>
                                <div id="alert-7"></div>
                            </div>
                            <button type="submit" class="icon-text-btn mb-4">Kirim Sekarang</button>
                            <div id="alert-success"></div>
                        </form>
                    </div>
                </div>
            </div>
            <div class="content">
                <p class="footer-link"><a class="link" href="https://irmabaitussalam.github.io/pedoman-komunitas">Pedoman Komunitas</a> &middot; <a class="link" href="https://irmabaitussalam.github.io/kebijakan-privasi">Kebijakan Privasi</a> &middot; <a class="link" href="https://irmabaitussalam.github.io/syarat-ketentuan">Syarat Ketentuan</a></p>
            </div>
        </div>
    </div>
    
    <div class="footer-top">
        <footer class="text-center fixed-bottom py-4">
            <span>&copy; 2014-<span id="currentYear"></span> IRMA Baitussalam</span>
        </footer>
    </div>

    <script src="./plugins/jquery-mask-input/jquery.mask.min.js"></script>
    <script src="./js/theme.js"></script>
    <script src="./js/captcha.js"></script>
    <script src="./js/script.js"></script>
    <script>
        function validateEmailForm() {
            const captcha = $('form[name="email-form"] #mainCaptcha');
            const input = {
                nama: $('form[name="email-form"] [name="name"]'),
                kelas: $('form[name="email-form"] [name="kelas"]'),
                alamatEmail: $('form[name="email-form"] [name="email-address"]'),
                instagram: $('form[name="email-form"] [name="user-instagram"]'),
                quotes: $('form[name="email-form"] [name="quotes"]'),
                captcha: $('form[name="email-form"] [name="captcha-input"]'),
                agree: $('form[name="email-form"] #agree')
            };
    
            const alert = {
                nama: $('form[name="email-form"] #alert-1'),
                kelas: $('form[name="email-form"] #alert-2'),
                alamatEmail: $('form[name="email-form"] #alert-3'),
                instagram: $('form[name="email-form"] #alert-4'),
                quotes: $('form[name="email-form"] #alert-5'),
                captcha: $('form[name="email-form"] #alert-6'),
                agree: $('form[name="email-form"] #alert-7'),
                success: $('form[name="email-form"] #alert-success')
            };

            if (input.nama.val() === "") {
                alert.nama.html(alertDanger("Silahkan masukkan nama lengkap Anda!"));
                input.nama.focus();
                setTimeout(() => alert.nama.empty(), 2500);
                return false;
            } else if (!validName(input.nama.val())) {
                alert.nama.html(alertDanger("Silahkan masukkan nama Anda dengan benar!"));
                input.nama.focus();
                setTimeout(() => alert.nama.empty(), 2500);
                return false;
            }

            if (input.kelas.val() === "") {
                alert.kelas.html(alertDanger("Silahkan masukkan kelas Anda saat ini!"));
                input.kelas.focus();
                setTimeout(() => alert.kelas.empty(), 2500);
                return false;
            }

            if (input.instagram.val() !== "" && !validUsername(input.instagram.val())) {
                alert.instagram.html(alertDanger("Silahkan masukkan nama akun Instagram Anda dengan benar!"));
                input.instagram.focus();
                setTimeout(() => alert.instagram.empty(), 2500);
                return false;
            }

            if (input.alamatEmail.val() === "") {
                alert.alamatEmail.html(alertDanger("Silahkan masukkan alamat email Anda!"));
                input.alamatEmail.focus();
                setTimeout(() => alert.alamatEmail.empty(), 2500);
                return false;
            } else if (!checkEmail(input.alamatEmail.val())) {
                alert.alamatEmail.html(alertDanger("Masukkan alamat email yang benar dan/atau sesuai format!"));
                input.alamatEmail.focus();
                setTimeout(() => alert.alamatEmail.empty(), 2500);
                return false;
            }

            if (input.quotes.val() === "") {
                alert.quotes.html(alertDanger("Silahkan ketikkan quotesmu!"));
                input.quotes.focus();
                setTimeout(() => alert.quotes.empty(), 2500);
                return false;
            }

            if (input.captcha.val() === "") {
                alert.captcha.html(alertDanger("Silahkan masukkan code Captchanya!"));
                input.captcha.focus().val('');
                setTimeout(() => alert.captcha.empty(), 2500);
                return false;
            }

            if (!input.agree.is(':checked')) {
                alert.agree.html(alertDanger("Klik kotak centang di atas!"));
                input.agree.focus();
                setTimeout(() => alert.agree.empty(), 2500);
                return false;
            }

            if (input.captcha.val() !== captcha.val()) {
                alert.captcha.html(alertDanger("Captcha salah. Silahkan masukkan code Captcha yang benar!"));
                input.captcha.focus().val('');
                generateCaptcha('form[name="email-form"] #mainCaptcha');
                setTimeout(() => alert.captcha.empty(), 2500);
                return false;
            }

            alert.success.html(alertSuccess("Terkirim!"));
            setTimeout(() => alert.success.empty(), 18000);

            generateCaptcha('form[name="email-form"] #mainCaptcha');
            return true;
        }

        function validateWAForm() {
            let waLink = "https://web.whatsapp.com/send";
            if (new RegExp("Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini", "i").test(navigator.userAgent)) {
                waLink = "whatsapp://send";
            }
            const phone = "6285659850910";
            const captcha = $('form[name="whatsapp-form"] #mainCaptcha');
            const input = {
                nama: $('form[name="whatsapp-form"] [name="name"]'),
                kelas: $('form[name="whatsapp-form"] [name="kelas"]'),
                noWhatsApp: $('form[name="whatsapp-form"] [name="no-whatsapp"]'),
                instagram: $('form[name="whatsapp-form"] [name="user-instagram"]'),
                quotes: $('form[name="whatsapp-form"] [name="quotes"]'),
                captcha: $('form[name="whatsapp-form"] [name="captcha-input"]'),
                agree: $('form[name="whatsapp-form"] #agree')
            };
    
            const alert = {
                nama: $('form[name="whatsapp-form"] #alert-1'),
                kelas: $('form[name="whatsapp-form"] #alert-2'),
                noWhatsApp: $('form[name="whatsapp-form"] #alert-3'),
                instagram: $('form[name="whatsapp-form"] #alert-4'),
                quotes: $('form[name="whatsapp-form"] #alert-5'),
                captcha: $('form[name="whatsapp-form"] #alert-6'),
                agree: $('form[name="whatsapp-form"] #alert-7'),
                success: $('form[name="whatsapp-form"] #alert-success')
            };

            if (input.nama.val() === "") {
                alert.nama.html(alertDanger("Silahkan masukkan nama lengkap Anda!"));
                input.nama.focus();
                setTimeout(() => alert.nama.empty(), 2500);
                return false;
            } else if (!validName(input.nama.val())) {
                alert.nama.html(alertDanger("Silahkan masukkan nama Anda dengan benar!"));
                input.nama.focus();
                setTimeout(() => alert.nama.empty(), 2500);
                return false;
            }

            if (input.kelas.val() === "") {
                alert.kelas.html(alertDanger("Silahkan masukkan kelas Anda saat ini!"));
                input.kelas.focus();
                setTimeout(() => alert.kelas.empty(), 2500);
                return false;
            }

            if (input.instagram.val() !== "" && !validUsername(input.instagram.val())) {
                alert.instagram.html(alertDanger("Silahkan masukkan nama akun Instagram Anda dengan benar!"));
                input.instagram.focus();
                setTimeout(() => alert.instagram.empty(), 2500);
                return false;
            }

            if (input.noWhatsApp.val() === "") {
                alert.noWhatsApp.html(alertDanger("Silahkan masukkan nomor WhatsApp Anda!"));
                input.noWhatsApp.focus();
                setTimeout(() => alert.noWhatsApp.empty(), 2500);
                return false;
            }

            if (input.quotes.val() === "") {
                alert.quotes.html(alertDanger("Silahkan ketikkan quotesmu!"));
                input.quotes.focus();
                setTimeout(() => alert.quotes.empty(), 2500);
                return false;
            }

            if (input.captcha.val() === "") {
                alert.captcha.html(alertDanger("Silahkan masukkan code Captchanya!"));
                input.captcha.focus().val('');
                setTimeout(() => alert.captcha.empty(), 2500);
                return false;
            }

            if (!input.agree.is(':checked')) {
                alert.agree.html(alertDanger("Klik kotak centang di atas!"));
                input.agree.focus();
                setTimeout(() => alert.agree.empty(), 2500);
                return false;
            }

            if (input.captcha.val() !== captcha.val()) {
                alert.captcha.html(alertDanger("Captcha salah. Silahkan masukkan code Captcha yang benar!"));
                input.captcha.focus().val('');
                generateCaptcha('form[name="whatsapp-form"] #mainCaptcha');
                setTimeout(() => alert.captcha.empty(), 2500);
                return false;
            }

            let message;
            if (input.instagram.val() === '') {
                message = "Assalamu'alaikum wr. wb. Kang/Teh izin share quotes üôèüèª" + '\n' +
                    '*Nama*: ' + input.nama.val() + '\n' +
                    '*Kelas*: ' + input.kelas.val() + '\n' +
                    '*Nomor WhatsApp*: ' + input.noWhatsApp.val() + '\n' +
                    '*Quotes*: ' + input.quotes.val() + '\n';
            } else {
                message = "Assalamu'alaikum wr. wb. Kang/Teh izin share quotes üôèüèª" + '\n' +
                    '*Nama*: ' + input.nama.val() + '\n' +
                    '*Kelas*: ' + input.kelas.val() + '\n' +
                    '*Nomor WhatsApp*: ' + input.noWhatsApp.val() + '\n' +
                    '*Instagram*: https://instagram.com/' + input.instagram.val() + '\n' +
                    '*Quotes*: ' + input.quotes.val() + '\n';
            }
            const blanter = waLink + '?phone=' + phone + '&text=' + encodeURIComponent(message);

            window.open(blanter, '_blank');

            alert.success.html(alertSuccess("Terkirim! Silahkan buka aplikasi WhatsApp Anda!"));
            setTimeout(() => alert.success.empty(), 18000);

            generateCaptcha('form[name="whatsapp-form"] #mainCaptcha');
            $('form[name="whatsapp-form"]').reset();
            return false;
        }
        generateCaptcha('form[name="email-form"] #mainCaptcha');
        generateCaptcha('form[name="whatsapp-form"] #mainCaptcha');
    </script>
</body>