<body>
    <nav class="navbar navbar-expand-lg fixed-top">
        <a class="navbar-brand" href="#">IRMA Baitussalam</a>
        <div class="menu-icon" id="menu-icon">
            <div></div>
            <div></div>
            <div></div>
        </div>

        <div class="navbar-background" id="navbar-background" align="center">
            <div class="navbar-links" id="navbar-links">
                <a href="/" class="nav-btn nav-btn-neumorphic col-lg-12">Beranda</a>
                <a href="/tentang" class="nav-btn nav-btn-neumorphic col-lg-12">Tentang</a>
                <a href="/blog" class="nav-btn nav-btn-neumorphic col-lg-12">Blog</a>
                <a href="/kontak" class="nav-btn nav-btn-neumorphic col-lg-12">Kontak</a>
                <a href="/pendaftaran-anggota-baru" class="nav-btn nav-btn-neumorphic col-lg-12 active">Pendaftaran</a>
                <a href="#" id="submenu" class="submenu nav-btn nav-btn-neumorphic col-lg-12">Halaman Lainnya</a>
                <div class="submenu-content col-lg-12" id="submenu-content">
                    <a href="/pedoman-komunitas" class="nav-btn nav-btn-neumorphic-inset col-lg-12">Pedoman Komunitas</a>
                    <a href="/kebijakan-privasi" class="nav-btn nav-btn-neumorphic-inset col-lg-12">Kebijakan Privasi</a>
                    <a href="/syarat-ketentuan" class="nav-btn nav-btn-neumorphic-inset col-lg-12">Syarat Ketentuan</a>
                </div>
        
                <button id="themeToggle" class="theme-toggle-btn">
                    <i id="themeIcon" class="ti ti-sun-filled"></i>
                </button>
            </div>
        </div>
    </nav>

    <div class="container text-center mt-5 pt-5">
        <img src="https://irmabaitussalam.github.io/images/logo.svg" alt="Logo" class="logo">
        <h2 class="mt-4">IRMA Baitussalam SMAN 22 Garut</h2>
        <p>&ldquo;Mewujudkan remaja masjid yang beriman, bertaqwa, berkarakter, cerdas, dan terampil&rdquo;</p>
        <div class="achievements mt-5">
        	<div class="mb-5 text-left">
                <h5 class="text1-color mb-3">Open Recruitment Anggota IRMA Baitussalam SMAN 22 Garut</h5>
                <hr>
                <div class="card card-neumorphism">
                    <div class="card-subtitle" align="left">
                        <p>
                            <b>Assalamu'alaikum wr. wb. ðŸŒŸ</b></br>
                            Hallo adik-adik baru SMA Negeri 22 Garut ataupun yang lama!! Apabila kalian berminat mengikuti
                            ekstrakurikuler IRMA Baitussalam SMA Negeri 22 Garut, langsung saja isi formulir pendaftaran dibawah ini ya!
                        </p>
                    </div>
                </div>
            </div>

            <div class="mb-4 mt-5 text-left">
                <h5 class="text1-color mb-3">Contact Person</h5>
                <hr>
                <p><i class="ti ti-mail"></i> <b>Email:</b> <a href="mailto:irmabaitussalam22garut@gmail.com">irmabaitussalam22garut@gmail.com</a></p>
                <p><i class="ti ti-brand-whatsapp"></i> <b>Kang Ridho:</b> <a href="https://api.whatsapp.com/send?phone=6285860536014">+62 858-6053-6014</a></p>
                <p><i class="ti ti-brand-whatsapp"></i> <b>Teh Risma:</b> <a href="https://api.whatsapp.com/send?phone=6285871658944">+62 858-7165-8944</a></p>
                <p><i class="ti ti-brand-whatsapp"></i> <b>Teh Rosalita:</b> <a href="https://api.whatsapp.com/send?phone=6283111061487">+62 831-1106-1487</a></p>
            </div>

            <div class="mb-5" align="left">
                <h5 class=text1-color mb-3">Formulir Pendaftaran</h5>
                <hr>
                <form name="pendaftaran" action="https://formsubmit.co/irmabaitussalam22garut@gmail.com" method="POST" onSubmit="return validateForms();">
                    <div class="form-group">
                        <label for="name">Nama Lengkap <span class="red-color">*</span></label>
                        <input type="text" id="name" name="name" placeholder="Contoh: Gilang Ramdani">
                        <div id="alert-1"></div>
                    </div>
                    <div class="form-group">
                        <label for="kelas">Kelas <span class="red-color">*</span></label>
                        <input type="text" id="kelas" name="kelas" placeholder="Contoh: X - 1">
                        <div id="alert-2"></div>
                    </div>
                    <div class="form-group">
                        <label for="asal-sekolah">Asal Sekolah <span class="red-color">*</span></label>
                        <p>Tuliskan asal sekolah SMP (bagi yang kelas 10).</p>
                        <input type="text" id="asal-sekolah" name="asal-sekolah" placeholder="Contoh: SMP Negeri 1 Cisompet">
                        <div id="alert-3"></div>
                    </div>
                    <div class="form-group student-id-input">
                        <label for="student">NISN <span class="red-color">*</span></label>
                        <p>Tuliskan NISN (Nomor Induk Siswa Nasional) Anda, lihat di ijazah SMP atau SD.</p>
                        <div class="student-id-container">
                            <span class="student-id-icon">
                                <i class="ti ti-school"></i>
                            </span>
                            <input type="number" id="student" name="nisn" placeholder="XXXXXXXXXX">
                        </div>
                        <div id="alert-4"></div>
                    </div>
                    <div class="form-group address-input">
                        <label for="address">Alamat <span class="red-color">*</span></label>
                        <div class="address-container">
                            <span class="address-icon">
                                <i class="ti ti-map-pin"></i>
                            </span>
                            <input type="text" id="address" name="alamat" placeholder="Contoh: Kp. Cisompet Kaum">
                        </div>
                        <div id="alert-5"></div>
                    </div>
                    <div class="form-group wa-input">
                        <label for="no-whatsapp">Nomor WhatsApp <span class="red-color">*</span></label>
                        <div class="wa-container">
                            <span class="wa-icon">
                                <i class="ti ti-brand-whatsapp"></i>
                            </span>
                            <input type="text" id="no-whatsapp" name="no-whatsapp" placeholder="+62 8xx-xxxx-xxxx" data-mask="+62 899-9999-99999">
                        </div>
                        <div id="alert-6"></div>
                    </div>
                    <div class="form-group">
                        <label for="alasan">Alasan masuk Ekstrakurikuler IRMA Baitussalam <span class="red-color">*</span></label>
                        <textarea id="alasan" name="alasan" placeholder="Tulis alasanmu..." rows="5"></textarea>
                        <div id="alert-7"></div>
                    </div>
                    <div class="form-group">
                        <label for="captcha-input">Captcha <span class="red-color">*</span></label>
                        <div id="mainCaptcha" class="mt-3 mb-5"></div>
                        <div class="refresh-container">
                            <button class="refresh-icon" onclick="document.forms['pendaftaran']['captcha-input'].focus(); return generateCaptcha('form[name=pendaftaran] #mainCaptcha');">
                                <i class="ti ti-refresh"></i>
                            </button>
                            <input type="text" id="captcha-input" name="captcha-input" placeholder="XXXXXX" maxlength="6">
                        </div>
                        <div id="alert-8"></div>
                    </div>
                    <div class="form-group mt-4 mb-4">
                        <label class="check-box"><input type="checkbox" id="agree" name="agree" value="false"></input><span class="checkmark"></span> Dengan mengklik tombol &ldquo;Kirim Sekarang&rdquo;, Anda sudah menyutujui <a href="/syarat-ketentuan">Syarat Ketentuan</a>, <a href="/kebijakan-privasi">Kebijakan Privasi</a>, dan <a href="/pedoman-komunitas">Pedoman Komunitas</a> kami.</label>
                        <div id="alert-9"></div>
                    </div>
                    <input type="hidden" name="_captcha" value="false"></input>
                    <input type="hidden" name="_template" value="box"></input>
                    <input type="hidden" name="_subject" value="Pendaftaran Anggota Baru IRMA Baitussalam"></input>
                    <input type="hidden" name="_next" value="https://irmabaitussalam.github.io/6VCXR3TAMWFm9k9vvvy2gpd8TTW7swmKqmaCZ95LgnIo38DgLu"></input>
                    <button type="submit" class="icon-text-btn mb-4">Kirim Sekarang</button>
                    <div id="alert-success"></div>
                </form>
            </div>
            <div class="content">
                <p class="footer-link"><a class="link" href="https://irmabaitussalam.github.io/pedoman-komunitas">Pedoman Komunitas</a> &middot; <a class="link" href="https://irmabaitussalam.github.io/kebijakan-privasi">Kebijakan Privasi</a> &middot; <a class="link" href="https://irmabaitussalam.github.io/syarat-ketentuan">Syarat Ketentuan</a></p>
            </div>
        </div>
    </div>
    
    <div class="footer-top">
        <footer class="text-center fixed-bottom py-4">
            <span>&copy; 2014-<span id="currentYear"></span> IRMA Baitussalam</span>
        </footer>
    </div>

    <script src="./plugins/jquery-mask-input/jquery.mask.min.js"></script>
    <script src="./js/theme.js"></script>
    <script src="./js/captcha.js"></script>
    <script src="./js/script.js"></script>
    <script>
        $('#student').on('input', function() {
            if ($(this).val().length > 10) {
                $(this).val($(this).val().slice(0, 10));
            }
        });
    </script>
    <script>
        const captcha = $('#mainCaptcha');
        const input = {
            nama: $('form[name="pendaftaran"] [name="name"]'),
            kelas: $('form[name="pendaftaran"] [name="kelas"]'),
            asalSekolah: $('form[name="pendaftaran"] [name="asal-sekolah"]'),
            nisn: $('form[name="pendaftaran"] [name="nisn"]'),
            alamat: $('form[name="pendaftaran"] [name="alamat"]'),
            noWhatsApp: $('form[name="pendaftaran"] [name="no-whatsapp"]'),
            alasan: $('form[name="pendaftaran"] [name="alasan"]'),
            captcha: $('form[name="pendaftaran"] [name="captcha-input"]'),
            agree: $('#agree')
        };
    
        const alert = {
            nama: $('form[name="pendaftaran"] #alert-1'),
            kelas: $('form[name="pendaftaran"] #alert-2'),
            asalSekolah: $('form[name="pendaftaran"] #alert-3'),
            nisn: $('form[name="pendaftaran"] #alert-4'),
            alamat: $('form[name="pendaftaran"] #alert-5'),
            noWhatsApp: $('form[name="pendaftaran"] #alert-6'),
            alasan: $('form[name="pendaftaran"] #alert-7'),
            captcha: $('form[name="pendaftaran"] #alert-8'),
            agree: $('form[name="pendaftaran"] #alert-9'),
            success: $('form[name="pendaftaran"] #alert-success')
        };

        function validateForms() {
            if (input.nama.val() === "") {
                alert.nama.html(alertDanger("Silahkan masukkan nama lengkap Anda!"));
                input.nama.focus();
                setTimeout(() => alert.nama.empty(), 2500);
                return false;
            } else if (!validName(input.nama.val())) {
                alert.nama.html(alertDanger("Silahkan masukkan nama Anda dengan benar!"));
                input.nama.focus();
                setTimeout(() => alert.nama.empty(), 2500);
                return false;
            }

            if (input.kelas.val() === "") {
                alert.kelas.html(alertDanger("Silahkan masukkan kelas Anda saat ini!"));
                input.kelas.focus();
                setTimeout(() => alert.kelas.empty(), 2500);
                return false;
            }

            if (input.asalSekolah.val() === "") {
                alert.asalSekolah.html(alertDanger("Silahkan masukkan nama asal sekolah Anda!"));
                input.asalSekolah.focus();
                setTimeout(() => alert.asalSekolah.empty(), 2500);
                return false;
            } else if (!validSchoolName(input.asalSekolah.val())) {
                alert.asalSekolah.html(alertDanger("Silahkan masukkan nama asal sekolah Anda dengan benar!"));
                input.asalSekolah.focus();
                setTimeout(() => alert.asalSekolah.empty(), 2500);
                return false;
            }

            if (input.nisn.val() === "") {
                alert.nisn.html(alertDanger("Silahkan masukkan Nomor Induk Siswa Nasioanl (NISN) Anda!"));
                input.nisn.focus();
                setTimeout(() => alert.nisn.empty(), 2500);
                return false;
            }

            if (input.alamat.val() === "") {
                alert.alamat.html(alertDanger("Silahkan masukkan alamat Anda!"));
                input.alamat.focus();
                setTimeout(() => alert.alamat.empty(), 2500);
                return false;
            }

            if (input.noWhatsApp.val() === "") {
                alert.noWhatsApp.html(alertDanger("Silahkan masukkan nomor WhatsApp Anda!"));
                input.noWhatsApp.focus();
                setTimeout(() => alert.noWhatsApp.empty(), 2500);
                return false;
            } else if (!(new RegExp("^[\-+\ 0-9]+$", "g")).test(input.noWhatsApp.val())) {
                alert.noWhatsApp.html(alertDanger("Silahkan masukkan nomor WhatsApp yang benar!"));
                input.noWhatsApp.focus().val('');
                setTimeout(() => alert.noWhatsApp.empty(), 2500);
                return false;
            }

            if (input.alasan.val() === "") {
                alert.alasan.html(alertDanger("Silahkan tuliskan alasan Anda untuk masuk ke Ekstrakurikuler IRMA Baitussalam!"));
                input.alasan.focus();
                setTimeout(() => alert.alasan.empty(), 2500);
                return false;
            }

            if (input.captcha.val() === "") {
                alert.captcha.html(alertDanger("Silahkan masukkan code Captchanya!"));
                input.captcha.focus().val('');
                setTimeout(() => alert.captcha.empty(), 2500);
                return false;
            }

            if (!input.agree.is(':checked')) {
                alert.agree.html(alertDanger("Klik kotak centang di atas!"));
                input.agree.focus();
                setTimeout(() => alert.agree.empty(), 2500);
                return false;
            }

            if (input.captcha.val() !== captcha.val()) {
                alert.captcha.html(alertDanger("Captcha salah. Silahkan masukkan code Captcha yang benar!"));
                input.captcha.focus().val('');
                generateCaptcha('form[name="pendaftaran"] #mainCaptcha');
                setTimeout(() => alert.captcha.empty(), 2500);
                return false;
            }

            alert.success.html(alertSuccess("Terkirim"));
            setTimeout(() => alert.success.empty(), 2500);

            generateCaptcha('form[name="pendaftaran"] #mainCaptcha');
            return true;
        }
        generateCaptcha('form[name="pendaftaran"] #mainCaptcha');
    </script>
</body>